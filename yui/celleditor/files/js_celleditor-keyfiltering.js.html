<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>js&#x2F;celleditor-keyfiltering.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.8.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.8.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/DataTable.html">DataTable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Base.html">DataTable.Base</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellEditor.html">DataTable.BaseCellEditor</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellEditor.KeyFiltering.html">DataTable.BaseCellEditor.KeyFiltering</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellInlineEditor.html">DataTable.BaseCellInlineEditor</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellPopupEditor.html">DataTable.BaseCellPopupEditor</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BodyView.html">DataTable.BodyView</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BodyView.Formatters.html">DataTable.BodyView.Formatters</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BodyView.InputFormatters.html">DataTable.BodyView.InputFormatters</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.ColumnWidths.html">DataTable.ColumnWidths</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Core.html">DataTable.Core</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Editable.html">DataTable.Editable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Editors.html">DataTable.Editors</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.HeaderView.html">DataTable.HeaderView</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Message.html">DataTable.Message</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Mutable.html">DataTable.Mutable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Scrollable.html">DataTable.Scrollable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Sortable.html">DataTable.Sortable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.TableView.html">DataTable.TableView</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.DataTableDataSource.html">Plugin.DataTableDataSource</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/datatable.html">datatable</a></li>
            
                <li><a href="..&#x2F;modules/datatable-base.html">datatable-base</a></li>
            
                <li><a href="..&#x2F;modules/datatable-body.html">datatable-body</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-base.html">datatable-celleditor-base</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-inline.html">datatable-celleditor-inline</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-keyfiltering.html">datatable-celleditor-keyfiltering</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-popup.html">datatable-celleditor-popup</a></li>
            
                <li><a href="..&#x2F;modules/datatable-column-widths.html">datatable-column-widths</a></li>
            
                <li><a href="..&#x2F;modules/datatable-core.html">datatable-core</a></li>
            
                <li><a href="..&#x2F;modules/datatable-datasource.html">datatable-datasource</a></li>
            
                <li><a href="..&#x2F;modules/datatable-editable.html">datatable-editable</a></li>
            
                <li><a href="..&#x2F;modules/datatable-formatters.html">datatable-formatters</a></li>
            
                <li><a href="..&#x2F;modules/datatable-head.html">datatable-head</a></li>
            
                <li><a href="..&#x2F;modules/datatable-input-formatters.html">datatable-input-formatters</a></li>
            
                <li><a href="..&#x2F;modules/datatable-message.html">datatable-message</a></li>
            
                <li><a href="..&#x2F;modules/datatable-mutable.html">datatable-mutable</a></li>
            
                <li><a href="..&#x2F;modules/datatable-scroll.html">datatable-scroll</a></li>
            
                <li><a href="..&#x2F;modules/datatable-sort.html">datatable-sort</a></li>
            
                <li><a href="..&#x2F;modules/datatable-table.html">datatable-table</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: js&#x2F;celleditor-keyfiltering.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
Extension to DataTable Cell Editors that does input validation as the entry is being
typed or pasted in.  It uses the &#x60;event-valuechange&#x60; module to check the on
input and textarea elements.

The built-in cell editors have key filters configured, when applicable, but they
will not be operative unless this module is loaded.
@module datatable
@submodule datatable-celleditor-keyfiltering
*&#x2F;
&#x2F;**
This class is not meant to be used directly, it will get automatically mixed into
&#x60;DataTable.BaseCellEditor&#x60;.
@class DataTable.BaseCellEditor.KeyFiltering
@static
 *&#x2F;
var KF = function () {};

KF.ATTRS = {
    &#x2F;**
    Provides a input filtering capability to restrict input into the editing area
    checked via the event-valuechange module.
    This attribute is set to either a RegEx or a function that confirms if the entry
    was valid for this editor.

    If a function is provided, the single argument is the current input value and if
    it is valid it should return true.

    @example
          &#x2F;^\d*$&#x2F;            &#x2F;&#x2F; for numeric digit-only input
          &#x2F;^(\d|\-|\.)*$&#x2F;      &#x2F;&#x2F; for floating point numeric input
          &#x2F;^(\d|\&#x2F;)*$&#x2F;         &#x2F;&#x2F; for Date field entry in MM&#x2F;DD&#x2F;YYYY format

    @attribute keyFiltering
    @type RegExp | Function
    @for DataTable.BaseCellEditor
    @default null
    *&#x2F;
    keyFiltering:  {
        value:  null
    }
};

Y.mix( KF.prototype, {

    &#x2F;**
    Event handle to changes in the [keyFiltering](#attr_keyFiltering) attribute
    value change, to detach when done.
    @property _keyFilteringSubscr
    @type EventHandle | null
    @default null
    @private
     *&#x2F;
    _keyFilteringSubscr: null,

    &#x2F;**
    Internal copy of the function set in the [keyFiltering](#attr_keyFiltering)
    attribute for faster processing.  If  [keyFiltering](#attr_keyFiltering)
    was a RegExp, it will be converted to a function using that RegExp to check
    the entry.

    @method _keyFilter
    @param value {String} input value to be validated
    @return {Boolean} true if value is valid
    @for DataTable.BaseCellEditor
    @private
    *&#x2F;
    _keyFilter : null,

    &#x2F;**
    Lifecycle method
    @method initializer
    @protected
    *&#x2F;
    initializer: function () {
        this._subscr.push(this.after(&#x27;keyFilteringChange&#x27;, this._processKeyFiltering));
        this.onceAfter(&#x27;render&#x27;, this._processKeyFiltering);
    },

    &#x2F;**
    Processes both changes in the [keyFiltering](#attr_keyFiltering)  attribute
    and the initial rendering of the input element to be monitored for valid
    entries.

    @method _processKeyFiltering
    @for DataTable.BaseCellEditor
    @private
     *&#x2F;
    _processKeyFiltering: function () {
        var value = this.get(&#x27;keyFiltering&#x27;),
            input = this._inputNode;

        if (input) {
            if (value === null) {
                if (this._keyFilteringSubscr) {
                    this._keyFilteringSubscr.detach();
                }
                this._keyFilter = null;
            } else if (typeof value === &#x27;function&#x27;) {
                this._keyFilter = value;
            } else if (value instanceof RegExp) {
                this._keyFilter = this._regExpFilter(value);
            }
            if (!this._keyFilteringSubscr) {
                this._keyFilteringSubscr =  input.on(&#x27;valuechange&#x27;, this._onValueChange, this);

            }
        }
    },

    &#x2F;**
    Returns a function that uses the regular expression provided to check a value
    passed to that function.  It is used along the [keyFiltering](#attr_keyFiltering)
    attribute to set the [_keyFilter](#method__keyFilter) method for input validation.

    @method _regExpFilter
    @param regExp {RegExp} regular expression to use when checking.
    @return {Function} Function that checks a value passed to it against the regular expression.
    @private
    @for DataTable.BaseCellEditor

     *&#x2F;
    _regExpFilter: function (regExp) {
        return function (value) {
            return regExp.test(value);
        };
    },

    &#x2F;**
    Handles validation while the value is being entered. It applies the
    [keyFiltering](#attr_keyFiltering) regular expression or function to the input
    and rejects the entry if it doesn&#x27;t match.

    It will be active if there is an [_inputNode](#property__inputNode) set and
    a [keyFiltering](#attr_keyFiltering) set.

    @method _onValueChange
    @param e {EventFacade} Event facade as provided by the &#x60;valuechange&#x60; event.
    @private
    @for DataTable.BaseCellEditor
    *&#x2F;
    _onValueChange: function (e) {
        if (!this._keyFilter(e.newVal)) {
            e.target.set(&#x27;value&#x27;, e.prevVal);
        }
    }
});
Y.DataTable.BaseCellEditor.KeyFiltering = KF;
Y.Base.mix(Y.DataTable.BaseCellEditor, [KF]);
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
