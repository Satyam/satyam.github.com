<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>yui3-gallery&#x2F;src&#x2F;gallery-md-accordion&#x2F;js&#x2F;gallery-md-accordion.js - Satyam&#x27;s Gallery Modules</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.1&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.5.1&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="Satyam&#x27;s Gallery Modules"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/Accordion.html">Accordion</a></li>
            
                <li><a href="..&#x2F;classes/AccordionPanel.html">AccordionPanel</a></li>
            
                <li><a href="..&#x2F;classes/Button.html">Button</a></li>
            
                <li><a href="..&#x2F;classes/ButtonGroup.html">ButtonGroup</a></li>
            
                <li><a href="..&#x2F;classes/ButtonPlugin.html">ButtonPlugin</a></li>
            
                <li><a href="..&#x2F;classes/ButtonSeparator.html">ButtonSeparator</a></li>
            
                <li><a href="..&#x2F;classes/ButtonToggle.html">ButtonToggle</a></li>
            
                <li><a href="..&#x2F;classes/IButton.html">IButton</a></li>
            
                <li><a href="..&#x2F;classes/MakeNode.html">MakeNode</a></li>
            
                <li><a href="..&#x2F;classes/Node.html">Node</a></li>
            
                <li><a href="..&#x2F;classes/Spinner.html">Spinner</a></li>
            
                <li><a href="..&#x2F;classes/StdMod.html">StdMod</a></li>
            
                <li><a href="..&#x2F;classes/TimeSpinner.html">TimeSpinner</a></li>
            
                <li><a href="..&#x2F;classes/Y.GalleryModel.html">Y.GalleryModel</a></li>
            
                <li><a href="..&#x2F;classes/Y.GalleryModelChronologicalUndo.html">Y.GalleryModelChronologicalUndo</a></li>
            
                <li><a href="..&#x2F;classes/Y.GalleryModelMultiRecord.html">Y.GalleryModelMultiRecord</a></li>
            
                <li><a href="..&#x2F;classes/Y.GalleryModelPrimaryKeyIndex.html">Y.GalleryModelPrimaryKeyIndex</a></li>
            
                <li><a href="..&#x2F;classes/Y.GalleryModelSimpleUndo.html">Y.GalleryModelSimpleUndo</a></li>
            
                <li><a href="..&#x2F;classes/Y.GalleryModelSortedMultiRecord.html">Y.GalleryModelSortedMultiRecord</a></li>
            
                <li><a href="..&#x2F;classes/Y.Timeline.html">Y.Timeline</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/gallery-button-plugin.html">gallery-button-plugin</a></li>
            
                <li><a href="..&#x2F;modules/gallery-makenode.html">gallery-makenode</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-accordion.html">gallery-md-accordion</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-button.html">gallery-md-button</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-button-group.html">gallery-md-button-group</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-ibutton.html">gallery-md-ibutton</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-model.html">gallery-md-model</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-spinner.html">gallery-md-spinner</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-timespinner.html">gallery-md-timespinner</a></li>
            
                <li><a href="..&#x2F;modules/gallery-stdmod.html">gallery-stdmod</a></li>
            
                <li><a href="..&#x2F;modules/timeline.html">timeline</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: yui3-gallery&#x2F;src&#x2F;gallery-md-accordion&#x2F;js&#x2F;gallery-md-accordion.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
* The accordion module creates a control with titles and expandable sections for each
* @module gallery-md-accordion
*&#x2F;
&quot;use strict&quot;;
var Lang = Y.Lang,

	BBX = &#x27;boundingBox&#x27;,
	BODY = Y.WidgetStdMod.BODY,
	HEADER = Y.WidgetStdMod.HEADER,
	EXPANDED = &#x27;expanded&#x27;,
	EXPANDING = &#x27;expanding&#x27;,
	COLLAPSED = &#x27;collapsed&#x27;,
	COLLAPSING = &#x27;collapsing&#x27;,
	LABEL = &#x27;label&#x27;,
	CONTENT = &#x27;content&#x27;,
	ICON = &#x27;icon&#x27;,
	STATUS = &#x27;status&#x27;,
	CLOSE = &#x27;close&#x27;,
	PANEL_CLOSE = &#x27;panelClose&#x27;,
	MULTI_EXPAND = &#x27;multiExpand&#x27;,
	RESIZEABLE = &#x27;resizeable&#x27;,
	CLOSEABLE = &#x27;closeable&#x27;,
	UI = &#x27;ui&#x27;;
&#x2F;**
 * The AccordionPanel class represents one of the panels within an accordion
 * @class AccordionPanel
 * @extends Widget
 * @uses WidgetChild, WidgetStdMod, MakeNode
 * @constructor 
 * @param cfg {object} (optional) configuration attributes
 *&#x2F;
	
Y.AccordionPanel = Y.Base.create(
	&#x27;accordionPanel&#x27;,
	Y.Widget,
	[Y.WidgetChild,Y.WidgetStdMod,Y.MakeNode],
	{
		&#x2F;**
		 * With the accordion panel container filled with with WidgetStdMod divs
		 * it seems like too much to have a separate contentBox
		 * @property CONTENT_TEMPLATE
		 * @value null
		 * @protected
		 *&#x2F;
		CONTENT_TEMPLATE: null,
		&#x2F;**
		 * This is an override of WidgetStdMod method to prevent it from re-rendering the 
		 * three sections again and again and wiping out the resize handles
		 * @method _syncUIStdMod
		 * @protected
		 *&#x2F;
		_syncUIStdMod : function () {
		},
		
		&#x2F;**
		 * Adds the resizer to the body of the three section StdMod
		 * and creates a container for the actual content within
		 * @method renderUI
		 * @protected
		 *&#x2F;
		 
		renderUI: function () {
			this.setStdModContent(BODY,this._makeNode());
			this.setStdModContent(HEADER, this._makeNode(Y.AccordionPanel._HEADER_TEMPLATE));
			this._locateNodes();
		},

		&#x2F;**
		 * Listener for the after Expanded change event, toggles the panel
		 * @method _afterExpanded
		 * @param ev {EventFacade}
		 * @private
		 *&#x2F;
		_uiSetExpanded: function(value, src) {
			if (src === UI) {
				return;
			}
			if (value) {
				this.expand();
			} else {
				this.collapse();
			}
		},
		&#x2F;**
		 * Sets the label on the header of this panel
		 * @method _uiSetLabel
		 * @param value {String} text to be shown
		 * @private
		 *&#x2F;
		_uiSetLabel: function (value) {
			this._labelNode.setContent(value);
		},
		&#x2F;**
		 * Sets the content on this panel
		 * @method _uiSetContent
		 * @param value {String | Node} content to be shown
		 * @private
		 *&#x2F;
		_uiSetContent: function (value) {
			this._bodyNode.setContent(value);
		},
		&#x2F;**
		 * Plugs&#x2F;unplugs the resize-plugin (if available) in response to the resizeable attribute
		 * @method _uiSetResizeable
		 * @param value {Boolean} new value for the resizeable attribute
		 * @private
		 *&#x2F;
		_uiSetResizeable: function (value) {
			var body = this.getStdModNode(BODY);
			if (Y.Plugin.Resize) {
				if (value) {
					body.plug(Y.Plugin.Resize, {
						handles:[&#x27;b&#x27;]
					});
				} else {
					body.unplug(Y.Plugin.Resize);
				}						
			}
		},
		&#x2F;**
		 * Sets the close icon visible or not depending on the attribute &lt;code&gt;closeable&lt;&#x2F;code&gt;
		 * @method _uiSetCloseable
		 * @param value {Boolean} new value for the closeeable attribute
		 * @private
		 *&#x2F;
		_uiSetCloseable: function (value) {
			if (value) {
				this._closeNode.show();
			} else {
				this._closeNode.hide();
			}
		},
		&#x2F;**
		 * Expands this panel
		 * @method expand
		 *&#x2F;
		expand: function() {
			var bbx = this.get(BBX),
				cns = this._classNames;
			bbx.replaceClass(cns[COLLAPSED],cns[EXPANDING]);
			this.getStdModNode(BODY).show(true,{},function() {
				bbx.replaceClass(cns[EXPANDING],cns[EXPANDED]);
			});
			this.set(EXPANDED,true,{src:UI});
		},
		&#x2F;**
		 * Collapses this panel
		 * @method collapse
		 *&#x2F;
		collapse: function () {
			var bbx = this.get(BBX),
				cns = this._classNames;
			bbx.replaceClass(cns[EXPANDED],cns[EXPANDING]);
			this.getStdModNode(BODY).hide(true,{},function() {
				bbx.replaceClass(cns[EXPANDING],cns[COLLAPSED]);
			});
			this.set(EXPANDED,false,{src:UI});
		},
		&#x2F;**
		 * Toggles this panel from expanded to collapsed
		 * @method toggle
		 *&#x2F;
		toggle: function () {
			this.set(EXPANDED, !this.get(EXPANDED));
		},
		
		&#x2F;**
		 * Responds to clicks in the header of this panel to toggle it
		 * @method _afterHEADERClick
		 * @param ev {EventFacade} uses target to make sure it is the 
		 * header of this accordion and not that of a nested one
		 * @private
		 *&#x2F; 
		_afterHEADERClick: function (ev) {
			if (ev.target === this.getStdModNode(HEADER)) {
				this.toggle();
			}
		},
		
		&#x2F;**
		 * Convenience method to close this panel.
		 * Called when the close icon, if present, is clicked.
		 * It fires the &lt;code&gt;panelClose&lt;&#x2F;code&gt; event to signal 
		 * the container for it to remove the panel
		 * from the accordion.
		 * @method close
		 *&#x2F;
		 &#x2F;**
		  * Fired by the panel to signal the accordion to remove this panel.
		  * Closure of the panel can be prevented by listening and halting this event.
		  * @event panelClose
		  *&#x2F;
		close: function () {
			this.fire(PANEL_CLOSE);
		}	
	},
	{
		&#x2F;**
		 * Defines the class names used by MakeNode, later stored in this._classNames.
		 * @property _CLASS_NAMES
		 * @static
		 * @protected
		 *&#x2F;
		_CLASS_NAMES: [EXPANDED, COLLAPSED, BODY, ICON, LABEL, STATUS, CLOSE, EXPANDING, COLLAPSING],
		&#x2F;**
		 * Defines the template used by MakeNode to build the container for the body
		 * @property _TEMPLATE
		 * @static
		 * @protected
		 *&#x2F;
		_TEMPLATE: &#x27;&lt;div class=&quot;{c body}&quot;&gt;&lt;&#x2F;div&gt;&#x27;,
		&#x2F;**
		 * Defines the template used by MakeNode to build the container for the header
		 * @property _HEADER_TEMPLATE
		 * @static
		 * @protected
		 *&#x2F;
		 _HEADER_TEMPLATE: &#x27;&lt;div class=&quot;{c icon}&quot;&gt;&lt;&#x2F;div&gt;&lt;a href=&quot;#&quot; class=&quot;{c label}&quot;&gt;&lt;&#x2F;a&gt;&lt;div class=&quot;{c status}&quot;&gt;&lt;&#x2F;div&gt;&lt;div class=&quot;{c close}&quot;&gt;&lt;&#x2F;div&gt;&#x27;,
		&#x2F;**
		 * Defines the UI events to be attached through MakeNode,
		 * specifically, click on the headers
		 * @property _EVENTS
		 * @static
		 * @protected
		 *&#x2F;
		_EVENTS: {
			&#x2F;&#x2F; this HEADER is not a constant called HEADER but the string &quot;HEADER&quot;
			HEADER: &#x27;click&#x27;,
			close: {
				type: &#x27;click&#x27;,
				fn: &#x27;close&#x27;
			}
		},
		&#x2F;**
		 * Defines the attributes that MakeNode should link to _uiSetXxxx methods to reflect them in the UI.
		 * @property _ATTRS_2_UI
		 * @static
		 * @protected
		 *&#x2F;
		_ATTRS_2_UI: {
			BIND: [LABEL, CONTENT, EXPANDED, RESIZEABLE, CLOSEABLE],
			SYNC: [LABEL, CONTENT, EXPANDED, RESIZEABLE, CLOSEABLE]
		},
		ATTRS: {
			&#x2F;**
			 * State of this panel
			 * @attribute expanded
			 * @type Boolean
			 * @default false (collapsed)
			 *&#x2F;
			expanded: {
				value:false,
				validator: Lang.isBoolean
			},
			&#x2F;**
			 * Text to be shown in the header of this accordion panel
			 * @attribute label
			 * @type String
			 *&#x2F;
			label: {
				value:&#x27;&#x27;,
				validator: Lang.isString
			},
			&#x2F;**
			 * Content to be shown in the body of this accordion panel
			 * @attribute content
			 * @type String or Node instance
			 *&#x2F;
			content: {
				value:&#x27;&#x27;
			},
			&#x2F;**
			 * Allows panels to be resized.
			 * Requires the optional resize-plugin module to be loaded.
			 * @attribute resizeable
			 * @type Boolean
			 * @default true
			 *&#x2F;
			resizeable: {
				value: true,
				validator: Lang.isBoolean
			},
			&#x2F;**
			 * Allows panels to be closed via an icon in the header.
			 * It shows or hides the close icon.  
			 * Panels can be closedvia programming at any time, regardless of this attribute.
			 * @attribute closeable
			 * @type Boolean
			 * @default true
			 *&#x2F;
			closeable: {
				value: true,
				validator: Lang.isBoolean
			}
		}
	
	}
);

&#x2F;**
 * A collection of vertically aligned collapsible panels
 * @class Accordion
 * @extends Widget
 * @uses WidgetParent, MakeNode
 *&#x2F;
Y.Accordion = Y.Base.create(
	&#x27;accordion&#x27;,
	Y.Widget,
	[Y.WidgetParent, Y.MakeNode],
	{
		&#x2F;**
		 * Event listener for child expansion&#x2F;collapse, ensures that only one is expanded
		 * at a time if multiExpand is not set.
		 * @method _afterThisAccordionPanel:expandedChange
		 * @param ev {EventFacade}
		 * @private
		 *&#x2F;
		&#x27;_afterThisAccordionPanel:expandedChange&#x27;: function (ev) {
			var child = ev.target;
			if (ev.newVal  &amp;&amp; !this.get(MULTI_EXPAND)) {
				this.each(function (panel) {
					if (panel !== child &amp;&amp; panel.get(EXPANDED)) {
						panel.collapse();
					}
				});
			}
		},
		&#x2F;**
		 * Listens to the &lt;code&gt;panelClose&lt;&#x2F;code&gt; and destroys the panel
		 * and removes it from the collection of panels.
		 * @method _afterThisAccordionPanel:panelClose
		 * @param ev {EventFacade} uses ev.target to locate the panel requesting the close
		 * @private
		 *&#x2F;
		
		&#x27;_afterThisAccordionPanel:panelClose&#x27;: function (ev) {
			var panel = ev.target;
			if (this.indexOf(panel) &gt;= 0) {
				this.remove(panel);
				panel.destroy();
			}
		},
		&#x2F;**
		 * Sets the resizeable attribute of all panels to the value set for the whole accordion
		 * @method _uiSetResizeable
		 * @param value {Boolean} new value of the resizeable attribute
		 * @private
		 *&#x2F;
		_uiSetResizeable: function (value) {
			this.each(function (panel) {
				panel.set(RESIZEABLE, value);
			});
		},
		&#x2F;**
		 * Sets the closeable attribute of all panels to the value set for the whole accordion
		 * @method _uiSetCloseable
		 * @param value {Boolean} new value of the closeable attribute
		 * @private
		 *&#x2F;
		_uiSetCloseable: function (value) {
			this.each(function (panel) {
				panel.set(CLOSEABLE, value);
			});
		}
	},
	{
		&#x2F;**
		 * Defines the attributes that MakeNode should link to _uiSetXxxx methods to reflect them in the UI.
		 * @property _ATTRS_2_UI
		 * @static
		 * @protected
		 *&#x2F;
		_ATTRS_2_UI: {
			BIND: [RESIZEABLE, CLOSEABLE],
			SYNC: [RESIZEABLE, CLOSEABLE]
		},
		&#x2F;**
		 * Defines events that are to be associated to listeners by MakeNode.
		 * Here it links a couple of events from the items,
		 * expandedChange to ensure only one panel is open at a time and
		 * panelClose to destroy and remove a panel
		 * @property _EVENTS
		 * @type Object
		 * @static
		 * @protected
		 *&#x2F;
		_EVENTS: {
			THIS: [
				&#x27;accordionPanel:expandedChange&#x27;,
				&#x27;accordionPanel:panelClose&#x27;
			]
		},

		ATTRS: {
			&#x2F;**
			 * Default type of children to create.  Used by WidgetParent.
			 * @attribute defaultChildType
			 * @type WidgetChild
			 * @default AccordionPanel
			 * @protected
			 *&#x2F;
			defaultChildType: {
				value: &#x27;AccordionPanel&#x27;
			},
			&#x2F;**
			 * Whether several panels may be expanded at once.
			 * @attribute multiExpand
			 * @type Boolean
			 * @default true
			 *&#x2F;
			multiExpand: {
				value:true,
				validator: Lang.isBoolean
			},
			&#x2F;**
			 * Helper attribute to set all panels resizeable attribute at once.
			 * May be overriden in each panel separately.
			 * Requires the optional resize-plugin module to be loaded.
			 * @attribute resizeable
			 * @type Boolean
			 * @default true
			 *&#x2F;
			resizeable: {
				value: true,
				validator: Lang.isBoolean
			},
							&#x2F;**
			 * Helper attribute to set all panels closeable attribute at once.
			 * May be overriden in each panel separately.
			 * @attribute closeable
			 * @type Boolean
			 * @default true
			 *&#x2F;
			closeable: {
				value: true,
				validator: Lang.isBoolean
			}

		}
	}
);


    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
