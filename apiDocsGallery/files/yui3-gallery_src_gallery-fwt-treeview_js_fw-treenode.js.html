<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>yui3-gallery&#x2F;src&#x2F;gallery-fwt-treeview&#x2F;js&#x2F;fw-treenode.js - Satyam&#x27;s Gallery Modules</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.1&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.5.1&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title="Satyam&#x27;s Gallery Modules"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/Accordion.html">Accordion</a></li>
            
                <li><a href="..&#x2F;classes/AccordionPanel.html">AccordionPanel</a></li>
            
                <li><a href="..&#x2F;classes/Button.html">Button</a></li>
            
                <li><a href="..&#x2F;classes/ButtonGroup.html">ButtonGroup</a></li>
            
                <li><a href="..&#x2F;classes/ButtonPlugin.html">ButtonPlugin</a></li>
            
                <li><a href="..&#x2F;classes/ButtonSeparator.html">ButtonSeparator</a></li>
            
                <li><a href="..&#x2F;classes/ButtonToggle.html">ButtonToggle</a></li>
            
                <li><a href="..&#x2F;classes/IButton.html">IButton</a></li>
            
                <li><a href="..&#x2F;classes/MakeNode.html">MakeNode</a></li>
            
                <li><a href="..&#x2F;classes/Node.html">Node</a></li>
            
                <li><a href="..&#x2F;classes/Spinner.html">Spinner</a></li>
            
                <li><a href="..&#x2F;classes/StdMod.html">StdMod</a></li>
            
                <li><a href="..&#x2F;classes/TimeSpinner.html">TimeSpinner</a></li>
            
                <li><a href="..&#x2F;classes/Y.FlyweightTreeManager.html">Y.FlyweightTreeManager</a></li>
            
                <li><a href="..&#x2F;classes/Y.FlyweightTreeNode.html">Y.FlyweightTreeNode</a></li>
            
                <li><a href="..&#x2F;classes/Y.FWTreeNode.html">Y.FWTreeNode</a></li>
            
                <li><a href="..&#x2F;classes/Y.FWTreeView.html">Y.FWTreeView</a></li>
            
                <li><a href="..&#x2F;classes/Y.GalleryModel.html">Y.GalleryModel</a></li>
            
                <li><a href="..&#x2F;classes/Y.GalleryModelChronologicalUndo.html">Y.GalleryModelChronologicalUndo</a></li>
            
                <li><a href="..&#x2F;classes/Y.GalleryModelMultiRecord.html">Y.GalleryModelMultiRecord</a></li>
            
                <li><a href="..&#x2F;classes/Y.GalleryModelPrimaryKeyIndex.html">Y.GalleryModelPrimaryKeyIndex</a></li>
            
                <li><a href="..&#x2F;classes/Y.GalleryModelSimpleUndo.html">Y.GalleryModelSimpleUndo</a></li>
            
                <li><a href="..&#x2F;classes/Y.GalleryModelSortedMultiRecord.html">Y.GalleryModelSortedMultiRecord</a></li>
            
                <li><a href="..&#x2F;classes/Y.Timeline.html">Y.Timeline</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/gallery-button-plugin.html">gallery-button-plugin</a></li>
            
                <li><a href="..&#x2F;modules/gallery-flyweight-tree.html">gallery-flyweight-tree</a></li>
            
                <li><a href="..&#x2F;modules/gallery-fwt-treeview.html">gallery-fwt-treeview</a></li>
            
                <li><a href="..&#x2F;modules/gallery-makenode.html">gallery-makenode</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-accordion.html">gallery-md-accordion</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-button.html">gallery-md-button</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-button-group.html">gallery-md-button-group</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-ibutton.html">gallery-md-ibutton</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-model.html">gallery-md-model</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-spinner.html">gallery-md-spinner</a></li>
            
                <li><a href="..&#x2F;modules/gallery-md-timespinner.html">gallery-md-timespinner</a></li>
            
                <li><a href="..&#x2F;modules/gallery-stdmod.html">gallery-stdmod</a></li>
            
                <li><a href="..&#x2F;modules/timeline.html">timeline</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: yui3-gallery&#x2F;src&#x2F;gallery-fwt-treeview&#x2F;js&#x2F;fw-treenode.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;** This class must not be generated directly.  
 *  Instances of it will be provided by Y.FWTreeView as required.
 *  
 *  Subclasses might be defined based on it.  
 *  Usually, they will add further attributes and redefine the TEMPLATE to 
 *  show those extra attributes.
 *  
 *  @module gallery-fwt-treeview
 *    
 *  @class Y.FWTreeNode
 *  @extends Y.FlyweightTreeNode
 *  @constructor
 *&#x2F;
 Y.FWTreeNode = Y.Base.create(
	&#x27;fw-treenode&#x27;,
	Y.FlyweightTreeNode,
	[],
	{
		initializer: function() {
			this.after(&#x27;click&#x27;, this._afterClick, this);
			this.after(&#x27;selectedChange&#x27;, this._afterSelectedChange, this);
		},
		&#x2F;**
		 * Responds to the click event by toggling the node
		 * @method _afterClick
		 * @param ev {EventFacade}
		 * @private
		 *&#x2F;
		_afterClick: function (ev) {
			var target = ev.domEvent.target;
			if (target.hasClass(CNAMES.toggle)) {
				this.toggle();
			} else if ((target.hasClass(CNAMES.content) || target.hasClass(CNAMES.icon)) &amp;&amp; this.get(&#x27;root&#x27;).get(&#x27;toggleOnLabelClick&#x27;)) {
				this.toggle();
			} else if (target.hasClass(CNAMES.selection)) {
				this.toggleSelection();
			}
		},
		&#x2F;**
		 * Sugar method to toggle the selected state of a node.
		 * @method toggleSelection
		 *&#x2F;
		toggleSelection: function() {
			this.set(&#x27;selected&#x27;, (this.get(&#x27;selected&#x27;)?0:2));
		},
		&#x2F;**
		 * Changes the UI to reflect the selected state and propagates the selection up and&#x2F;or down.
		 * @method _afterSelectedChange
		 * @param ev {EventFacade} out of which
		 * @param ev.src {String} if not undefined it can be &#x60;&#x27;propagateUp&#x27;&#x60; or &#x60;&#x27;propagateDown&#x27;&#x60; so that propagation goes in just one direction and doesn&#x27;t bounce back.
		 * @private
		 *&#x2F;
		_afterSelectedChange: function (ev) {
			var newVal = ev.newVal;
				
			if (!this.isRoot()) {
				Y.one(&#x27;#&#x27; + this.get(&#x27;id&#x27;)).replaceClass(&#x27;yui3-fw-treeview-selected-state-&#x27; + ev.prevVal,&#x27;yui3-fw-treeview-selected-state-&#x27; + newVal);
				if (this.get(&#x27;propagateUp&#x27;) &amp;&amp; ev.src !== &#x27;propagatingDown&#x27;) {
					this.getParent()._childSelectedChange().release();
				}
			}
			if (this.get(&#x27;propagateDown&#x27;) &amp;&amp; ev.src !== &#x27;propagatingUp&#x27;) {
				this.forEachChild(function(node) {
					node.set(&#x27;selected&#x27; , newVal, &#x27;propagatingDown&#x27;);
				});
			}
		},
		&#x2F;**
		 * When propagating selection up, it is called by a child when changing its selected state
		 * so that the parent adjusts its own state accordingly.
		 * @method _childSelectedChange
		 * @private
		 *&#x2F;
		_childSelectedChange: function () {
			var count = 0, selCount = 0;
			this.forEachChild(function (node) {
				count +=2;
				selCount += node.get(&#x27;selected&#x27;);
			});
			this.set(&#x27;selected&#x27;, (selCount === 0?0:(selCount === count?2:1)), {src:&#x27;propagatingUp&#x27;});
			return this;
		}
		
	},
	{
		&#x2F;**
		 * Template to produce the markup for a node in the tree.
		 * @property TEMPLATE
		 * @type String
		 * @static
		 *&#x2F;
		TEMPLATE: Lang.sub(&#x27;&lt;li id=&quot;{id}&quot; class=&quot;{cname_node} {sel_prefix}-{selected}&quot;&gt;&lt;div class=&quot;{toggle}&quot;&gt;&lt;&#x2F;div&gt;&lt;div class=&quot;{icon}&quot;&gt;&lt;&#x2F;div&gt;&lt;div class=&quot;{selection}&quot;&gt;&lt;&#x2F;div&gt;&lt;div class=&quot;{content}&quot;&gt;{label}&lt;&#x2F;div&gt;&lt;ul class=&quot;{cname_children}&quot;&gt;{children}&lt;&#x2F;ul&gt;&lt;&#x2F;li&gt;&#x27;, CNAMES),
		ATTRS: {
			&#x2F;**
			 * Selected&#x2F;highlighted state of the node. 
			 * It can be
			 * 
			 * - 0 not selected
			 * - 1 partially selected: some children are selected, some not or partially selected.
			 * - 2 fully selected.
			 * 
			 * The partially selected state can only be the result of selection propagating up from a child node.
			 * @attribute selected
			 * @type Integer
			 * @value 0
			 *&#x2F;
			selected: {
				value:0,
				validator:function (value) {
					return value === 0 || value === 1 || value === 2;
				}
			},
			&#x2F;**
			 * Whether selection of one node should propagate to its parent.
			 * @attribute propagateUp
			 * @type Boolean
			 * @value true
			 *&#x2F;
			propagateUp: {
				value: true,
				validator: Lang.isBoolean
			},
			&#x2F;**
			 * Whether selection of one node should propagate to its children.
			 * @attribute propagateDown
			 * @type Boolean
			 * @value true
			 *&#x2F;
			propagateDown: {
				value: true,
				validator: Lang.isBoolean
			}
		}
	}
);


    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
