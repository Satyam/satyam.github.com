<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>js&#x2F;message.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.8.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.8.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/DataTable.html">DataTable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Base.html">DataTable.Base</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellEditor.html">DataTable.BaseCellEditor</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellEditor.KeyFiltering.html">DataTable.BaseCellEditor.KeyFiltering</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellInlineEditor.html">DataTable.BaseCellInlineEditor</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellPopupEditor.html">DataTable.BaseCellPopupEditor</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BodyView.html">DataTable.BodyView</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BodyView.Formatters.html">DataTable.BodyView.Formatters</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BodyView.InputFormatters.html">DataTable.BodyView.InputFormatters</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.ColumnWidths.html">DataTable.ColumnWidths</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Core.html">DataTable.Core</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Editable.html">DataTable.Editable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Editors.html">DataTable.Editors</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.HeaderView.html">DataTable.HeaderView</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Message.html">DataTable.Message</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Mutable.html">DataTable.Mutable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Scrollable.html">DataTable.Scrollable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Sortable.html">DataTable.Sortable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.TableView.html">DataTable.TableView</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.DataTableDataSource.html">Plugin.DataTableDataSource</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/datatable.html">datatable</a></li>
            
                <li><a href="..&#x2F;modules/datatable-base.html">datatable-base</a></li>
            
                <li><a href="..&#x2F;modules/datatable-body.html">datatable-body</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-base.html">datatable-celleditor-base</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-inline.html">datatable-celleditor-inline</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-keyfiltering.html">datatable-celleditor-keyfiltering</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-popup.html">datatable-celleditor-popup</a></li>
            
                <li><a href="..&#x2F;modules/datatable-column-widths.html">datatable-column-widths</a></li>
            
                <li><a href="..&#x2F;modules/datatable-core.html">datatable-core</a></li>
            
                <li><a href="..&#x2F;modules/datatable-datasource.html">datatable-datasource</a></li>
            
                <li><a href="..&#x2F;modules/datatable-editable.html">datatable-editable</a></li>
            
                <li><a href="..&#x2F;modules/datatable-formatters.html">datatable-formatters</a></li>
            
                <li><a href="..&#x2F;modules/datatable-head.html">datatable-head</a></li>
            
                <li><a href="..&#x2F;modules/datatable-input-formatters.html">datatable-input-formatters</a></li>
            
                <li><a href="..&#x2F;modules/datatable-message.html">datatable-message</a></li>
            
                <li><a href="..&#x2F;modules/datatable-mutable.html">datatable-mutable</a></li>
            
                <li><a href="..&#x2F;modules/datatable-scroll.html">datatable-scroll</a></li>
            
                <li><a href="..&#x2F;modules/datatable-sort.html">datatable-sort</a></li>
            
                <li><a href="..&#x2F;modules/datatable-table.html">datatable-table</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: js&#x2F;message.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
Adds support for a message container to appear in the table.  This can be used
to indicate loading progress, lack of records, or any other communication
needed.

@module datatable
@submodule datatable-message
@since 3.5.0
**&#x2F;
var Message;

&#x2F;**
_API docs for this extension are included in the DataTable class._

Adds support for a message container to appear in the table.  This can be used
to indicate loading progress, lack of records, or any other communication
needed.

Features added to &#x60;Y.DataTable&#x60;, and made available for custom classes at
&#x60;Y.DataTable.Message&#x60;.

@class DataTable.Message
@for DataTable
@since 3.5.0
**&#x2F;
Y.namespace(&#x27;DataTable&#x27;).Message = Message = function () {};

Message.ATTRS = {
    &#x2F;**
    Enables the display of messages in the table.  Setting this to false will
    prevent the message Node from being created and &#x60;showMessage&#x60; from doing
    anything.

    @attribute showMessages
    @type {Boolean}
    @default true
    @since 3.5.0
    **&#x2F;
    showMessages: {
        value: true,
        validator: Y.Lang.isBoolean
    }
};

Y.mix(Message.prototype, {
    &#x2F;**
    Template used to generate the node that will be used to report messages.

    @property MESSAGE_TEMPLATE
    @type {HTML}
    @default &lt;tbody class=&quot;{className}&quot;&gt;&lt;td class=&quot;{contentClass}&quot; colspan=&quot;{colspan}&quot;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tbody&gt;
    @since 3.5.0
    **&#x2F;
    MESSAGE_TEMPLATE: &#x27;&lt;tbody class=&quot;{className}&quot;&gt;&lt;tr&gt;&lt;td class=&quot;{contentClass}&quot; colspan=&quot;{colspan}&quot;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;&lt;&#x2F;tbody&gt;&#x27;,

    &#x2F;**
    Hides the message node.

    @method hideMessage
    @return {DataTable}
    @chainable
    @since 3.5.0
    **&#x2F;
    hideMessage: function () {
        this.get(&#x27;boundingBox&#x27;).removeClass(
            this.getClassName(&#x27;message&#x27;, &#x27;visible&#x27;));

        return this;
    },

    &#x2F;**
    Display the message node and set its content to &#x60;message&#x60;.  If there is a
    localized &#x60;strings&#x60; entry for the value of &#x60;message&#x60;, that string will be
    used.

    @method showMessage
    @param {String} message The message name or message itself to display
    @return {DataTable}
    @chainable
    @since 3.5.0
    **&#x2F;
    showMessage: function (message) {
        var content = this.getString(message) || message;

        if (!this._messageNode) {
            this._initMessageNode();
        }

        if (this.get(&#x27;showMessages&#x27;)) {
            if (content) {
                this._messageNode.one(
                    &#x27;.&#x27; + this.getClassName(&#x27;message&#x27;, &#x27;content&#x27;))
                    .setHTML(content);

                this.get(&#x27;boundingBox&#x27;).addClass(
                    this.getClassName(&#x27;message&#x27;,&#x27;visible&#x27;));
            } else {
                &#x2F;&#x2F; TODO: is this right?
                &#x2F;&#x2F; If no message provided, remove the message node.
                this.hideMessage();
            }
        }

        return this;
    },

    &#x2F;&#x2F;--------------------------------------------------------------------------
    &#x2F;&#x2F; Protected methods
    &#x2F;&#x2F;--------------------------------------------------------------------------
    &#x2F;**
    Updates the colspan of the &#x60;&lt;td&gt;&#x60; used to display the messages.

    @method _afterMessageColumnsChange
    @param {EventFacade} e The columnsChange event
    @protected
    @since 3.5.0
    **&#x2F;
    _afterMessageColumnsChange: function () {
        var contentNode;

        if (this._messageNode) {
            contentNode = this._messageNode.one(
                &#x27;.&#x27; + this.getClassName(&#x27;message&#x27;, &#x27;content&#x27;));

            if (contentNode) {
                &#x2F;&#x2F; FIXME: This needs to become a class extension plus a view or
                &#x2F;&#x2F; plugin for the table view.
                contentNode.set(&#x27;colSpan&#x27;, this._displayColumns.length);
            }
        }
    },

    &#x2F;**
    Relays to &#x60;_uiSetMessage&#x60; to hide or show the message node.

    @method _afterMessageDataChange
    @param {EventFacade} e The dataChange event
    @protected
    @since 3.5.0
    **&#x2F;
    _afterMessageDataChange: function () {
        this._uiSetMessage();
    },

    &#x2F;**
    Removes the message node if &#x60;showMessages&#x60; is &#x60;false&#x60;, or relays to
    &#x60;_uiSetMessage&#x60; if &#x60;true&#x60;.

    @method _afterShowMessagesChange
    @param {EventFacade} e The showMessagesChange event
    @protected
    @since 3.5.0
    **&#x2F;
    _afterShowMessagesChange: function (e) {
        if (e.newVal) {
            this._uiSetMessage(e);
        } else if (this._messageNode) {
            this.get(&#x27;boundingBox&#x27;).removeClass(
                this.getClassName(&#x27;message&#x27;, &#x27;visible&#x27;));

            this._messageNode.remove().destroy(true);
            this._messageNode = null;
        }
    },

    &#x2F;**
    Binds the events necessary to keep the message node in sync with the current
    table and configuration state.

    @method _bindMessageUI
    @protected
    @since 3.5.0
    **&#x2F;
    _bindMessageUI: function () {
        this.after([&#x27;dataChange&#x27;, &#x27;*:add&#x27;, &#x27;*:remove&#x27;, &#x27;*:reset&#x27;],
            Y.bind(&#x27;_afterMessageDataChange&#x27;, this));

        this.after(&#x27;columnsChange&#x27;, Y.bind(&#x27;_afterMessageColumnsChange&#x27;, this));

        this.after(&#x27;showMessagesChange&#x27;,
            Y.bind(&#x27;_afterShowMessagesChange&#x27;, this));
    },

    &#x2F;**
    Merges in the message related strings and hooks into the rendering cycle to
    also render and bind the message node.

    @method initializer
    @protected
    @since 3.5.0
    **&#x2F;
    initializer: function () {
        this._initMessageStrings();

        if (this.get(&#x27;showMessages&#x27;)) {
            this.after(&#x27;renderBody&#x27;, Y.bind(&#x27;_initMessageNode&#x27;, this));
        }

        this.after(Y.bind(&#x27;_bindMessageUI&#x27;, this), this, &#x27;bindUI&#x27;);
        this.after(Y.bind(&#x27;_syncMessageUI&#x27;, this), this, &#x27;syncUI&#x27;);
    },

    &#x2F;**
    Creates the &#x60;_messageNode&#x60; property from the configured &#x60;MESSAGE_TEMPLATE&#x60;
    and inserts it before the &#x60;&lt;table&gt;&#x60;&#x27;s &#x60;&lt;tbody&gt;&#x60; node.

    @method _initMessageNode
    @protected
    @since 3.5.0
    **&#x2F;
    _initMessageNode: function () {
        if (!this._messageNode) {
            this._messageNode = Y.Node.create(
                Y.Lang.sub(this.MESSAGE_TEMPLATE, {
                    className: this.getClassName(&#x27;message&#x27;),
                    contentClass: this.getClassName(&#x27;message&#x27;, &#x27;content&#x27;),
                    colspan: this._displayColumns.length || 1
                }));

            this._tableNode.insertBefore(this._messageNode, this._tbodyNode);
        }
    },

    &#x2F;**
    Add the messaging related strings to the &#x60;strings&#x60; map.

    @method _initMessageStrings
    @protected
    @since 3.5.0
    **&#x2F;
    _initMessageStrings: function () {
        &#x2F;&#x2F; Not a valueFn because other class extensions will want to add to it
        this.set(&#x27;strings&#x27;, Y.mix((this.get(&#x27;strings&#x27;) || {}),
            Y.Intl.get(&#x27;datatable-message&#x27;)));
    },

    &#x2F;**
    Node used to display messages from &#x60;showMessage&#x60;.

    @property _messageNode
    @type {Node}
    @value &#x60;undefined&#x60; (not initially set)
    @since 3.5.0
    **&#x2F;
    &#x2F;&#x2F;_messageNode: null,

    &#x2F;**
    Synchronizes the message UI with the table state.

    @method _syncMessageUI
    @protected
    @since 3.5.0
    **&#x2F;
    _syncMessageUI: function () {
        this._uiSetMessage();
    },

    &#x2F;**
    Calls &#x60;hideMessage&#x60; or &#x60;showMessage&#x60; as appropriate based on the presence of
    records in the &#x60;data&#x60; ModelList.

    This is called when &#x60;data&#x60; is reset or records are added or removed.  Also,
    if the &#x60;showMessages&#x60; attribute is updated.  In either case, if the
    triggering event has a &#x60;message&#x60; property on the EventFacade, it will be
    passed to &#x60;showMessage&#x60; (if appropriate).  If no such property is on the
    facade, the &#x60;emptyMessage&#x60; will be used (see the strings).

    @method _uiSetMessage
    @param {EventFacade} e The columnsChange event
    @protected
    @since 3.5.0
    **&#x2F;
    _uiSetMessage: function (e) {
        if (!this.data.size()) {
            this.showMessage((e &amp;&amp; e.message) || &#x27;emptyMessage&#x27;);
        } else {
            this.hideMessage();
        }
    }
});


if (Y.Lang.isFunction(Y.DataTable)) {
    Y.Base.mix(Y.DataTable, [ Message ]);
}

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
