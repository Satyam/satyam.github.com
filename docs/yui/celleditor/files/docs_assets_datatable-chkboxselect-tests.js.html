<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>docs&#x2F;assets&#x2F;datatable-chkboxselect-tests.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.8.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.8.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/DataTable.html">DataTable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Base.html">DataTable.Base</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellEditor.html">DataTable.BaseCellEditor</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellEditor.KeyFiltering.html">DataTable.BaseCellEditor.KeyFiltering</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellInlineEditor.html">DataTable.BaseCellInlineEditor</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellPopupEditor.html">DataTable.BaseCellPopupEditor</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BodyView.html">DataTable.BodyView</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BodyView.Formatters.html">DataTable.BodyView.Formatters</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BodyView.InputFormatters.html">DataTable.BodyView.InputFormatters</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.ColumnWidths.html">DataTable.ColumnWidths</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Core.html">DataTable.Core</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Editable.html">DataTable.Editable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Editors.html">DataTable.Editors</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.HeaderView.html">DataTable.HeaderView</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Message.html">DataTable.Message</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Mutable.html">DataTable.Mutable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Scrollable.html">DataTable.Scrollable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Sortable.html">DataTable.Sortable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.TableView.html">DataTable.TableView</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.DataTableDataSource.html">Plugin.DataTableDataSource</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/datatable.html">datatable</a></li>
            
                <li><a href="..&#x2F;modules/datatable-base.html">datatable-base</a></li>
            
                <li><a href="..&#x2F;modules/datatable-body.html">datatable-body</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-base.html">datatable-celleditor-base</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-inline.html">datatable-celleditor-inline</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-keyfiltering.html">datatable-celleditor-keyfiltering</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-popup.html">datatable-celleditor-popup</a></li>
            
                <li><a href="..&#x2F;modules/datatable-column-widths.html">datatable-column-widths</a></li>
            
                <li><a href="..&#x2F;modules/datatable-core.html">datatable-core</a></li>
            
                <li><a href="..&#x2F;modules/datatable-datasource.html">datatable-datasource</a></li>
            
                <li><a href="..&#x2F;modules/datatable-editable.html">datatable-editable</a></li>
            
                <li><a href="..&#x2F;modules/datatable-formatters.html">datatable-formatters</a></li>
            
                <li><a href="..&#x2F;modules/datatable-head.html">datatable-head</a></li>
            
                <li><a href="..&#x2F;modules/datatable-input-formatters.html">datatable-input-formatters</a></li>
            
                <li><a href="..&#x2F;modules/datatable-message.html">datatable-message</a></li>
            
                <li><a href="..&#x2F;modules/datatable-mutable.html">datatable-mutable</a></li>
            
                <li><a href="..&#x2F;modules/datatable-scroll.html">datatable-scroll</a></li>
            
                <li><a href="..&#x2F;modules/datatable-sort.html">datatable-sort</a></li>
            
                <li><a href="..&#x2F;modules/datatable-table.html">datatable-table</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: docs&#x2F;assets&#x2F;datatable-chkboxselect-tests.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
YUI.add(&#x27;datatable-chkboxselect-tests&#x27;, function(Y) {

    var suite = new Y.Test.Suite(&#x27;datatable-chkboxselect example test suite&#x27;),
        Assert = Y.Assert;

        &#x2F;** this sets the constrain checkbox to checked or not
         * The example code looks for chkbox.on(&#x27;click&#x27;)... attr checked == true
         * IE doesn&#x27;t set attr checked with a click
         * In non-IE, if you set checked to true then also click it checked == false (it seems)
         * @param expectedState Boolean
         *&#x2F;
        var clickCheckbox = function(checkbox, expectedState) {

            if (Y.UA.ie &amp;&amp; Y.UA.ie &lt; 9) {
                checkbox.set(&quot;checked&quot;, expectedState);
            } else {
                &#x2F;&#x2F; Just in case it&#x27;s already at that state, and the test wants to flip it with the click
                if (checkbox.get(&quot;checked&quot;) === expectedState) {
                    checkbox.set(&quot;checked&quot;, !expectedState);
                }
            }
            checkbox.simulate(&quot;click&quot;);
        }


    var tableSelector = &#x27;#dtable &#x27;,
        th = Y.all(tableSelector + &#x27;th&#x27;),
        td = Y.all(tableSelector + &#x27;td&#x27;),
        tr = Y.all(tableSelector + &#x27;tr&#x27;);

    suite.add(new Y.Test.Case({
        name: &#x27;Example tests&#x27;,
        &#x27;test populating with HTML table&#x27;: function() {

            Assert.areEqual(8, th.size(), &#x27; - Wrong number of th&#x27;);
            Assert.isTrue((td.size() &gt; 20), &#x27; - Wrong number of td&#x27;);
            Assert.isTrue((tr.size() &gt; 10), &#x27; - Wrong number of tr&#x27;);
            Assert.isTrue((tr.item(3).hasClass(&#x27;yui3-datatable-odd&#x27;)), &#x27; - Failed to assign odd row class&#x27;);
            Assert.isTrue((td.item(0).getHTML().indexOf(&#x27;checkbox&#x27;) &gt; -1), &#x27; - Failed to insert input HTML&#x27;);
        },
        &#x27;test selecting and processing&#x27;: function() {
            clickCheckbox(td.item(0).one(&#x27;input&#x27;), true);
            &#x2F;&#x2F;clickCheckbox(td.item(4).one(&#x27;input&#x27;), true);   &#x2F;&#x2F; I don&#x27;t know why this one doesn&#x27;t work
            Y.one(&#x27;#btnSelected&#x27;).simulate(&#x27;click&#x27;);
            Assert.isTrue((Y.one(&#x27;#processed&#x27;).getHTML().indexOf(&#x27;Record index = 0 Data = 20 : FTP_data&#x27;) &gt; -1), &#x27; - Failed to process checkbox selection&#x27;);
        },
        &#x27;test clearing selection&#x27;: function() {
            Y.one(&#x27;#btnClearSelected&#x27;).simulate(&#x27;click&#x27;);
            Assert.isTrue((Y.one(&#x27;#processed&#x27;).getHTML().indexOf(&#x27;(None)&#x27;) &gt; -1), &#x27; - Failed to clear checkbox selection&#x27;);
        }
    }));

    Y.Test.Runner.add(suite);

}, &#x27;&#x27;, { requires: [ &#x27;node&#x27;, &#x27;node-event-simulate&#x27; ] });

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
