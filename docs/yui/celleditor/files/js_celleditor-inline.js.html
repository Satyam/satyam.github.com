<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>js&#x2F;celleditor-inline.js</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.8.0&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.8.0&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/DataTable.html">DataTable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Base.html">DataTable.Base</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellEditor.html">DataTable.BaseCellEditor</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellEditor.KeyFiltering.html">DataTable.BaseCellEditor.KeyFiltering</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellInlineEditor.html">DataTable.BaseCellInlineEditor</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BaseCellPopupEditor.html">DataTable.BaseCellPopupEditor</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BodyView.html">DataTable.BodyView</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BodyView.Formatters.html">DataTable.BodyView.Formatters</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.BodyView.InputFormatters.html">DataTable.BodyView.InputFormatters</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.ColumnWidths.html">DataTable.ColumnWidths</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Core.html">DataTable.Core</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Editable.html">DataTable.Editable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Editors.html">DataTable.Editors</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.HeaderView.html">DataTable.HeaderView</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Message.html">DataTable.Message</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Mutable.html">DataTable.Mutable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Scrollable.html">DataTable.Scrollable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.Sortable.html">DataTable.Sortable</a></li>
            
                <li><a href="..&#x2F;classes/DataTable.TableView.html">DataTable.TableView</a></li>
            
                <li><a href="..&#x2F;classes/Plugin.DataTableDataSource.html">Plugin.DataTableDataSource</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/datatable.html">datatable</a></li>
            
                <li><a href="..&#x2F;modules/datatable-base.html">datatable-base</a></li>
            
                <li><a href="..&#x2F;modules/datatable-body.html">datatable-body</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-base.html">datatable-celleditor-base</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-inline.html">datatable-celleditor-inline</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-keyfiltering.html">datatable-celleditor-keyfiltering</a></li>
            
                <li><a href="..&#x2F;modules/datatable-celleditor-popup.html">datatable-celleditor-popup</a></li>
            
                <li><a href="..&#x2F;modules/datatable-column-widths.html">datatable-column-widths</a></li>
            
                <li><a href="..&#x2F;modules/datatable-core.html">datatable-core</a></li>
            
                <li><a href="..&#x2F;modules/datatable-datasource.html">datatable-datasource</a></li>
            
                <li><a href="..&#x2F;modules/datatable-editable.html">datatable-editable</a></li>
            
                <li><a href="..&#x2F;modules/datatable-formatters.html">datatable-formatters</a></li>
            
                <li><a href="..&#x2F;modules/datatable-head.html">datatable-head</a></li>
            
                <li><a href="..&#x2F;modules/datatable-input-formatters.html">datatable-input-formatters</a></li>
            
                <li><a href="..&#x2F;modules/datatable-message.html">datatable-message</a></li>
            
                <li><a href="..&#x2F;modules/datatable-mutable.html">datatable-mutable</a></li>
            
                <li><a href="..&#x2F;modules/datatable-scroll.html">datatable-scroll</a></li>
            
                <li><a href="..&#x2F;modules/datatable-sort.html">datatable-sort</a></li>
            
                <li><a href="..&#x2F;modules/datatable-table.html">datatable-table</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: js&#x2F;celleditor-inline.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
&#x2F;**
 Provides cell editors that appear to make the cell itself editable by occupying the same region.
 @module datatable
 @submodule datatable-celleditor-inline
*&#x2F;
&#x2F;**
 A View class that serves as the BASE View class for a TD Cell &quot;inline&quot; editor, i.e. an editor that
 is a single INPUT node that completely overlies the TD cell.  This editor is intended to replicate
 the familiar &quot;spreadsheet&quot; type of input.

 @class DataTable.BaseCellInlineEditor
 @extends DataTable.BaseCellEditor
 @author Todd Smith
 @since 3.8.0
 **&#x2F;

var Editors = {},
    IEd =  Y.Base.create(&#x27;celleditor&#x27;,Y.DataTable.BaseCellEditor,[],{

    &#x2F;**
     * Defines the INPUT HTML content &quot;template&quot; for this editor&#x27;s View container
     * @property template
     * @type String
     * @default &#x27;&lt;input type=&quot;text&quot; class=&quot;{cssInput}&quot; &#x2F;&gt;&#x27;
     *&#x2F;
    template: &#x27;&lt;input type=&quot;text&quot; class=&quot;{cssInput}&quot; &#x2F;&gt;&#x27;,

    &#x2F;**
     * CSS classname to identify the editor&#x27;s INPUT Node
     * @property _classInput
     * @type String
     * @default &#x27;yui3-datatable-inline-input&#x27;
     * @protected
     *&#x2F;
    _cssInput: &#x27;yui3-datatable-inline-input&#x27;,




    &#x2F;**
    The default action for the &#x60;show&#x60; event which should make the editor visible.


    @method _defShowFn
    @param ev {EventFacade}
    @protected
    *&#x2F;
    _defShowFn: function (ev) {
        Y.log(&#x27;DataTable.BaseCellInlineEditor._defShowFn&#x27;);
        var cont = this.get(&#x27;container&#x27;),
            td = ev.td,
            xy = td.getXY();
        &#x2F;&#x2F;
        &#x2F;&#x2F; Get the TD Node&#x27;s XY position, and resize&#x2F;position the container
        &#x2F;&#x2F;   over the TD
        &#x2F;&#x2F;

        cont.show();
        this._resizeCont(cont, td);
        cont.setXY(xy);

        IEd.superclass._defShowFn.apply(this, arguments);
    },

    &#x2F;**
     * Processes the initial container for this View, sets up the HTML content
     *  and creates a listener for positioning changes
     * @method _defRenderFn
     * @private
     *&#x2F;
    _defRenderFn: function () {
        Y.log(&#x27;DataTable.BaseCellInlineEditor._defRenderFn&#x27;);
        var container = this.get(&#x27;container&#x27;),
            html      = Y.Lang.sub(this.template, {cssInput:this._cssInput});

        &#x2F;&#x2F; set the View container contents
        container.setHTML(html);

        &#x2F;&#x2F; Append the container element to the DOM if it&#x27;s not on the page already.
        if (!container.inDoc()) {
          Y.one(&#x27;body&#x27;).append(container);
        }

        container.setStyle(&#x27;zIndex&#x27;,999);

        container.hide();

        &#x2F;&#x2F; set a static placeholder for the input ...
        this._inputNode = container.one(&#x27;input&#x27;);
        if(this.get(&#x27;className&#x27;)) {
            this._inputNode.addClass(this.get(&#x27;className&#x27;));
        }

    },

    &#x2F;**
    Overrides the base _bindUI method to add a its own event listeners
    @method _bindUI
    @protected
    *&#x2F;

    _bindUI: function () {
        Y.log(&#x27;DataTable.BaseCellInlineEditor._bindUI&#x27;);
        IEd.superclass._bindUI.apply(this, arguments);
        this._subscr.push(this._inputNode.on(&#x27;mouseleave&#x27;, this._onMouseLeave, this));
    },

    &#x2F;**
     * Resizes the view &quot;container&quot; to match the dimensions of the TD cell that is
     *  being edited.
     *
     * @method _resizeCont
     * @param {Node} cont The Node instance of the &quot;container&quot; of this view
     * @param {Node} td The Node instance for the TD to match dimensions of
     * @private
     *&#x2F;
    _resizeCont: function (cont, td) {
        Y.log(&#x27;DataTable.BaseCellInlineEditor._resizeCont&#x27;);
        var parseStyle = function (v) {
               return parseFloat(td.getComputedStyle(v));
            },
            w   = parseStyle(&#x27;width&#x27;),
            h   = parseStyle(&#x27;height&#x27;),
            pl  = parseStyle(&#x27;paddingLeft&#x27;),
            pt  = parseStyle(&#x27;paddingTop&#x27;),
            blw = parseStyle(&#x27;borderLeftWidth&#x27;);

        &#x2F;&#x2F;  resize the INPUT width and height based upon the TD&#x27;s styles
        w += pl + blw - 1;
        h += pt;

        cont.setStyle(&#x27;width&#x27;, w + &#x27;px&#x27;);
        cont.setStyle(&#x27;height&#x27;, h + &#x27;px&#x27;);

    },


    &#x2F;**
     * Listener to mouseleave event that will hide the editor if attribute &quot;hideMouseLeave&quot; is true
     * @method _onMouseLeave
     * @private
     *&#x2F;
    _onMouseLeave : function () {
        Y.log(&#x27;DataTable.BaseCellInlineEditor._onMouseLeave&#x27;);
        if(this.get(&#x27;hideMouseLeave&#x27;)){
            this.hideEditor();
        }
    },

    &#x2F;**
     * This method can be used to quickly reset the current View editor&#x27;s position,
     *  used for scrollable DataTables.
     *
     * NOTE: Scrollable inline editing is a little &quot;rough&quot; right now
     *
     * @method _afterXYChange
     * @param e {EventFacade} The xy attribute change event facade
     * @private
     *&#x2F;
    _afterXYChange: function () {
        Y.log(&#x27;DataTable.BaseCellInlineEditor._afterXYChange&#x27;);

        &#x2F;&#x2F;if(this._inputNode &amp;&amp; e.newVal) {
        &#x2F;&#x2F;    this._inputNode.setXY(e.newVal);
        &#x2F;&#x2F;}

        &#x2F;&#x2F;TODO: Worst case, if this doesn&#x27;t work just hide this sucker on scrolling !
        this.hideEditor();
    }


},{
    ATTRS:{


        &#x2F;**
         * This flag dictates whether the View container is hidden when the mouse leaves
         * the focus of the inline container.
         * Typically we want this behavior, one example where we don&#x27;t would be an
         * inline autocomplete editor.
         * @attribute hideMouseLeave
         * @type Boolean
         * @default true
         *&#x2F;
        hideMouseLeave : {
            value:      true,
            validator:  Y.Lang.isBoolean
        },

        &#x2F;**
         * Prescribes a CSS class name to be added to the editor&#x27;s INPUT node after creation.
         * @attribute className
         * @type String
         * @default null
         *&#x2F;
        className: {
            value:      null,
            validator:  Y.Lang.isString
        }



    }
});


Y.DataTable.BaseCellInlineEditor = IEd;
&#x2F;&#x2F;====================================================================================================================
&#x2F;&#x2F;                   I N L I N E    C E L L    E D I T O R    D E F I N I T I O N S
&#x2F;&#x2F;====================================================================================================================


&#x2F;**
Produces a simple simple inline-type cell editor.

##### Basic Usage:

    &#x2F;&#x2F; Column definition
    { key:&#x27;surName&#x27;, editor:&quot;inline&quot; }

Since the &#x60;defaultEditor&#x60; attribute defaults to &#x60;&quot;inline&quot;&#x60;, any cell that
doesn&#x27;t have editing disable will use this editor.


@property inline
@type DataTable.BaseCellEditor
@for DataTable.Editors
@since 3.8.0
@public
**&#x2F;
Editors.inline = IEd;


&#x2F;**
This cell editor is identical to the &quot;inline&quot; textual editor but incorporates Numeric validation prior to
saving to the DT.

##### Basic Usage:

    &#x2F;&#x2F; Column definition
    { key:&#x27;unit_price&#x27;, editor:&quot;inlineNumber&quot; }

    &#x2F;&#x2F; Column definition ... to allow integers only
    {
        key:&#x27;QuantityInStock&#x27;,
        editor:&quot;inlineNumber&quot;,
        editorConfig: {
            keyFiltering: &#x2F;^\d*$&#x2F;
        }
    }

(note: keyFiltering requires the &#x60;datatable-celleditor-keyfiltering&#x60; module to be active)
@property inlineNumber
@type DataTable.BaseCellEditor
@for DataTable.Editors
@since 3.8.0
@public
**&#x2F;
Editors.inlineNumber = Y.Base.create(&#x27;celleditor&#x27;, IEd, [],
    {},
    {
        ATTRS: {

            hideMouseLeave: {
                value: false
            },

            &#x2F;&#x2F; Define a key filtering regex ...
            keyFiltering:   {
                    value : &#x2F;^(\.|\d|\-)*$&#x2F;
            },

            &#x2F;**
             * A validation regular expression object used to check validity of the input floating point number.
             * This can be defined by the user to accept other numeric input, or set to &quot;null&quot; to disable regex checks.
             *
             * @attribute validator
             * @type {RegExp|Function}
             * @default &#x2F;^\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*$&#x2F;
             *&#x2F;
            validator: {
                    value: &#x2F;^\s*(\+|-)?((\d+(\.\d*)?)|(\.\d*))\s*$&#x2F;
            },

            &#x2F;&#x2F; Function to call after numeric editing is complete, prior to saving to DataTable ...
            &#x2F;&#x2F;  i.e. checks validation against ad-hoc attribute &quot;validationRegExp&quot; (if it exists)
            &#x2F;&#x2F;       and converts the value to numeric (or undefined if fails regexp);
            parser: {
                value: function (v) {
                    Y.log(&#x27;inlineNumber.parser: &#x27; + v);
                    return parseFloat(v) || 0;
                }
            }

        }
    }
);

&#x2F;**
This cell editor is identical to the &quot;inline&quot; textual editor but incorporates date validation prior to
saving to the DT.

##### Basic Usage:

    &#x2F;&#x2F; Column definition
    { key:&#x27;weddingDate&#x27;, editor:&quot;inlineDate&quot; }

    &#x2F;&#x2F; Column definition with user-specified &#x27;dateFormat&#x27; to display Date in text box on display
    {
        key:&#x27;date_of_claim&#x27;,
        editor:&quot;inlineDate&quot;,
        editorConfig:{ dateformat:&#x27;%Y-%m-%d&#x27;}
    }


@property inlineDate
@type DataTable.BaseCellEditor
@for DataTable.Editors
@since 3.8.0
@public
**&#x2F;
Editors.inlineDate = Y.Base.create(&#x27;celleditor&#x27;, IEd, [],
    {},
    {
        ATTRS: {

            &#x2F;**
             * A user-supplied Date format string to be used to display the date in the View&#x27;s container.
             * (Must conform with date format strings from http:&#x2F;&#x2F;yuilibrary.com&#x2F;yui&#x2F;docs&#x2F;api&#x2F;classes&#x2F;Date.html#method_format,
             * i.e. strftime format)
             *
             * @attribute dateFormat
             * @type String
             * @default &quot;%D&quot;
             *&#x2F;
            dateFormat: {
                value:&quot;%D&quot;
            },

            keyFiltering: {
                    value: &#x2F;^(\&#x2F;|\d|\-)*$&#x2F;
            },

            &#x2F;&#x2F;  Function to call just prior to populating the INPUT text box,
            &#x2F;&#x2F;   so we pre-format the textbox in &quot;human readable&quot; format here
            formatter: {
                value: function (v){
                    Y.log(&#x27;inlineDate.formatter: &#x27; + v);
                    var dfmt =  this.get(&#x27;dateFormat&#x27;) || &quot;%m&#x2F;%d&#x2F;%Y&quot;;
                    return Y.DataType.Date.format(v,{format:dfmt});
                }
            },

            &#x2F;&#x2F; Function to call after Date editing is complete, prior to saving to DataTable ...
            &#x2F;&#x2F;  i.e. converts back to &quot;Date&quot; format that DT expects ...
            parser: {
                value: function(v){
                    Y.log(&#x27;inlineDate.parser: &#x27; + v);
                    return Y.DataType.Date.parse(v) || undefined;
                }
            }
        }
    }
);


&#x2F;**
This cell editor has the AutoComplete plugin attached to the input node.

##### Basic Usage:

    &#x2F;&#x2F; Column definition
    {
        key:&#x27;degreeProgram&#x27;,
        editor:&quot;inlineAC&quot;,
        editorConfig:{

            &#x2F;&#x2F; The following object is passed to &quot;autocomplete&quot; plugin when this
            &#x2F;&#x2F;   editor is instantiated
            autocompleteConfig: {
               source:  [ &quot;Bachelor of Science&quot;, &quot;Master of Science&quot;, &quot;PhD&quot; ]
               on: {
                   select: function (r) {
                       var val = r.result.display;
                       this.editor.saveEditor(val);
                   }
               }
            }
        }
    }


@property inlineAC
@type DataTable.BaseCellEditor
@for DataTable.Editors
@since 3.8.0
@public
**&#x2F;
Editors.inlineAC = Y.Base.create(&#x27;celleditor&#x27;, IEd, [],
    {
        render: function () {
            Y.log(&#x27;inlineAC.render&#x27;);
            Editors.inlineAC.superclass.render.apply(this, arguments);
            var inputNode = this._inputNode,
               &#x2F;&#x2F; Get the users&#x27;s editorConfig &quot;autocompleteConfig&quot; settings
               acConfig = this.get(&#x27;autocompleteConfig&#x27;) || {},
               editor = this;

            if(inputNode &amp;&amp; Y.Plugin.AutoComplete) {
               &#x2F;&#x2F; merge user settings with these required settings ...
               acConfig = Y.merge(acConfig,{
                   alwaysShowList: true,
                   render: true
               });
               &#x2F;&#x2F; plug in the autocomplete and we&#x27;re done ...
               inputNode.plug(Y.Plugin.AutoComplete, acConfig);

               &#x2F;&#x2F; add this View class as a static prop on the ac plugin
               inputNode.ac.editor = editor;
            }
            return this;

        }
    },
    {
        ATTRS: {

            hideMouseLeave: {
                value: false
            }

            &#x2F;**
             * A user-supplied set of configuration parameters to be passed into this View&#x27;s Y.Plugin.AutoComplete
             * configuration object.
             *
             * At a bare minimum, the user MUST provide the &quot;source&quot; of data for the AutoComplete !!
             *
             * For this control to save anything, the user needs to define an &quot;on:select&quot; listener in the AC&#x27;s
             * &quot;autocompleteConfig&quot; in order to saveEditor when the select action occurs.
             *
             * @attribute autocompleteConfig
             * @type Object
             * @default {}
             *&#x2F;

            &#x2F;&#x2F; Define listener to this editor View&#x27;s events
        }
    }

);
Y.mix(Y.DataTable.Editors, Editors);
    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
