<!DOCTYPE html>
<html lang="es">
  <head>
    <!--Source file: 2007-01-16-internacionalizacion-y-localizacion-usando-gettext.html-->
    <meta charset="utf-8" />
    <base href="/blog/" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Internacionalizaci√≥n y localizaci√≥n: usando gettext() | Comentarios</title>
    <meta property="og:title" content="Internacionalizaci√≥n y localizaci√≥n: usando gettext()" />
    <meta property="og:locale" content="es-ES" />
    <meta name="description" content="

 La funci√≥n
 gettext()
 es la forma semi-oficial de manejar una localizaci√≥n y est√° muy bien integrado
 en los entornos del tipo Unix, lo cual es bueno y malo. Un grave problema es
 que depende del soporte de idioma que est√© instalado en el servidor, lo cual
 puede hacer que una aplicaci√≥n que funciona perfectamente en un servidor, no
 funcione en otro. Por otra parte, para su inicializaci√≥n requiere una serie de
 llamadas a funciones que parecen un tanto caprichosas y que est√°n pensadas m√°s
 desde el punto de vista organizativo del servidor Unix que de la aplicaci√≥n.
 Otros entornos, como Windows, esto puede representar un problema, por ejemplo,
 si se desarrolla en un ordenador Windows para usar en un servidor con Linux.


 " />
    <meta property="og:description" content="

 La funci√≥n
 gettext()
 es la forma semi-oficial de manejar una localizaci√≥n y est√° muy bien integrado
 en los entornos del tipo Unix, lo cual es bueno y malo. Un grave problema es
 que depende del soporte de idioma que est√© instalado en el servidor, lo cual
 puede hacer que una aplicaci√≥n que funciona perfectamente en un servidor, no
 funcione en otro. Por otra parte, para su inicializaci√≥n requiere una serie de
 llamadas a funciones que parecen un tanto caprichosas y que est√°n pensadas m√°s
 desde el punto de vista organizativo del servidor Unix que de la aplicaci√≥n.
 Otros entornos, como Windows, esto puede representar un problema, por ejemplo,
 si se desarrolla en un ordenador Windows para usar en un servidor con Linux.


 " />
    <link rel="canonical" href="http://www.satyam.com.ar/blog/2007/01/16/internacionalizacion-y-localizacion-usando-gettext.html" />
    <meta property="og:url" content="http://www.satyam.com.ar/blog/2007/01/16/internacionalizacion-y-localizacion-usando-gettext.html" />
    <meta property="og:site_name" content="Comentarios" />
    <meta property="og:type" content="article" />
    <meta property="article:published_time" content="2007-01-16T00:00:00+01:00" />
    <meta name="twitter:card" content="summary" />
    <meta property="twitter:title" content="Internacionalizaci√≥n y localizaci√≥n: usando gettext()" />
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "dateModified": "2007-01-16T00:00:00+01:00",
        "datePublished": "2007-01-16T00:00:00+01:00",
        "description": "

 La funci√≥n
 gettext()
 es la forma semi-oficial de manejar una localizaci√≥n y est√° muy bien integrado
 en los entornos del tipo Unix, lo cual es bueno y malo. Un grave problema es
 que depende del soporte de idioma que est√© instalado en el servidor, lo cual
 puede hacer que una aplicaci√≥n que funciona perfectamente en un servidor, no
 funcione en otro. Por otra parte, para su inicializaci√≥n requiere una serie de
 llamadas a funciones que parecen un tanto caprichosas y que est√°n pensadas m√°s
 desde el punto de vista organizativo del servidor Unix que de la aplicaci√≥n.
 Otros entornos, como Windows, esto puede representar un problema, por ejemplo,
 si se desarrolla en un ordenador Windows para usar en un servidor con Linux.


 ",
        "headline": "Internacionalizaci√≥n y localizaci√≥n: usando gettext()",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "http://www.satyam.com.ar/blog/2007/01/16/internacionalizacion-y-localizacion-usando-gettext.html"
        },
        "url": "http://www.satyam.com.ar/blog/2007/01/16/internacionalizacion-y-localizacion-usando-gettext.html"
      }
    </script>
    <link rel="stylesheet" href="assets/css/style.css" />
    <link
      type="application/atom+xml"
      rel="alternate"
      href="feed.xml"
      title="Comentarios"
    />
  </head>
  <body>
    <header class="site-header" role="banner">
      <div class="wrapper">
        <a class="site-title" rel="author" href="index.html">Comentarios</a>
        <nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger" />
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewBox="0 0 18 15" width="18px" height="15px">
                <path
                  d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"
                />
              </svg>
            </span>
          </label>

          <div class="trigger">
            
  <a class="page-link" href="../" title="Home page">Home</a>
  <a class="page-link" href="posts.html" title="Art√≠culos por fecha">Archivo</a>
  <a class="page-link" href="categories.html" title="Art√≠culos por etiqueta">
    Etiquetas
  </a>

            <form
              id="searchform"
              method="get"
              action="https://www.google.com/search"
              target="_blank"
            >
              <input type="text" name="q" id="s" size="15" />
              <input type="submit" name="submit" value="üîç" />
              <input type="hidden" name="as_sitesearch" value="satyam.com.ar" />
            </form>
          </div>
        </nav>
      </div>
    </header>
    <main class="page-content" aria-label="Content" lang="es-ES">
      <div class="wrapper">
        <article
          class="post h-entry"
          itemscope
          itemtype="http://schema.org/BlogPosting"
        >
          <header class="post-header">
            <h1 class="post-title p-name" itemprop="name headline">
              Internacionalizaci√≥n y localizaci√≥n: usando gettext()
            </h1>
            <div class="post-meta">
  <div class="date-published">
    Publicado el: 
    <time  datetime="2007-01-16T00:00:00+01:00" itemprop="datePublished">
      16 / Enero / 2007
    </time>
  </div>
  <div class="post-cats">Archivado bajo: <a
href="categories.html#Tecnologia_Programacion"
rel="category tag"
>
Tecnolog√≠a / Programaci√≥n
</a>
</div>
</div>

          </header>

          <div
            class="post-content e-content "
            itemprop="articleBody"
          >
            
<p>
  La funci√≥n
  <code
    ><a
      title="Manual de PHP: biblioteca gettext"
      href="http://www.php.net/manual/es/ref.gettext.php"
      target="phpmanual"
      >gettext()</a
    ></code
  >
  es la forma semi-oficial de manejar una localizaci√≥n y est√° muy bien integrado
  en los entornos del tipo Unix, lo cual es bueno y malo. Un grave problema es
  que depende del soporte de idioma que est√© instalado en el servidor, lo cual
  puede hacer que una aplicaci√≥n que funciona perfectamente en un servidor, no
  funcione en otro. Por otra parte, para su inicializaci√≥n requiere una serie de
  llamadas a funciones que parecen un tanto caprichosas y que est√°n pensadas m√°s
  desde el punto de vista organizativo del servidor Unix que de la aplicaci√≥n.
  Otros entornos, como Windows, esto puede representar un problema, por ejemplo,
  si se desarrolla en un ordenador Windows para usar en un servidor con Linux.
</p>
<p>
  <span class="more"></span>El
  <a
    title="ejemplo"
    href="/int/gettext/index.php?language=es_ES"
    target="phpmanual"
    >ejemplo</a
  >
  muestra c√≥mo usar las funciones necesarias para
  <code
    ><a
      title="Manual de PHP: biblioteca gettext"
      href="http://www.php.net/manual/es/ref.gettext.php"
      target="phpmanual"
      >gettext()</a
    ></code
  >. El fuente de la p√°gina muestra llamadas a las funciones
  <code
    ><a
      title="Manual de PHP: funci√≥n setlocale()"
      href="http://www.php.net/manual/es/function.setlocale.php"
      target="phpmanual"
      >setlocale()</a
    ></code
  >,
  <a
    title="Manual de PHP: funci√≥n bindtextdomain()"
    href="http://www.php.net/manual/es/function.bindtextdomain.php"
    target="phpmanual"
    ><code>bindtextdomain()</code></a
  >
  y
  <a
    title="Manual de PHP: funci√≥n textdomain()"
    href="http://www.php.net/manual/es/function.textdomain.php"
    target="phpmanual"
    ><code>textdomain()</code></a
  >
  las cuales deben estar al inicio de cualquier script, antes de la primer
  llamada a
  <code
    ><a
      title="Manual de PHP: biblioteca gettext"
      href="http://www.php.net/manual/es/ref.gettext.php"
      target="phpmanual"
      >gettext()</a
    ></code
  >
  que, por otra parte, no ver√°n en el fuente, dado que
  <code
    ><a
      title="Manual de PHP: biblioteca gettext"
      href="http://www.php.net/manual/es/ref.gettext.php"
      target="phpmanual"
      >gettext()</a
    ></code
  >
  tiene predefinido como alias la funci√≥n
  <code
    ><a
      title="Manual de PHP: funci√≥n _()"
      href="http://www.php.net/manual/es/function.gettext.php"
      target="phpmanual"
      >_()</a
    ></code
  >, que siendo mucho m√°s breve, es m√°s c√≥moda.
</p>
<p>
  La explicaci√≥n del manual sobre el uso de estas funciones es insuficiente y
  sin recorrer los comentarios de los usuarios, m√°s abajo (que, adem√°s, no est√°n
  traducidos) no es posible poner la cosa a funcionar.
</p>
<p>
  La funci√≥n
  <a
    title="Manual de PHP: funci√≥n setlocale()"
    href="http://www.php.net/manual/es/function.setlocale.php"
    target="phpmanual"
    ><code>setlocale()</code></a
  >
  es la que establece el idioma que se utilizar√°, aunque en realidad hace mucho
  m√°s que eso. Permite definir, por ejemplo, c√≥mo se les dar√° formato a los
  n√∫meros (el uso de comas y puntos para miles y decimales), moneda (s√≠mbolo
  monetario, cantidad de decimales, etc), fechas (orden de las partes) y varias
  otras cosas que se detallan en su
  <a
    title="Manual de PHP: funci√≥n setlocale()"
    href="http://www.php.net/manual/es/function.setlocale.php"
    target="phpmanual"
    >documentaci√≥n</a
  >.
</p>
<p>
  En el
  <a
    title="ejemplo"
    href="/int/gettext/index.php?language=es_ES"
    target="phpmanual"
    >ejemplo</a
  >
  usamos la constante <code>LC_ALL</code> para localizar todos los aspectos
  posibles. Aqu√≠ es donde reside el primer problema, el √©xito de la funci√≥n
  <a
    title="Manual de PHP: funci√≥n setlocale()"
    href="http://www.php.net/manual/es/function.setlocale.php"
    target="phpmanual"
    ><code>setlocale()</code></a
  >
  depende de que la localizaci√≥n pedida exista en el servidor. Por ejemplo, un
  servidor puede tener instalado
  <code>fr_FR</code> (franc√©s de Francia) pero no <code>fr_BE</code> (franc√©s de
  B√©lgica) o <code>fr_CG</code> (franc√©s del Congo), puede tener
  <code>ca_ES</code> (catal√°n de Espa√±a) pero no <code>ca_FR</code> (catal√°n de
  Francia). Uno podr√≠a querer obviar estos problemas simplemente indicando el
  c√≥digo de idioma y no el de pa√≠s, por ejemplo <code>fr</code>,
  <code>es</code> o <code>ca</code>, y dependiendo del servidor, estos pueden
  estar disponibles o no.
</p>
<p>
  Por otra parte, el sitio en cuesti√≥n puede ser un sitio para un grupo de
  fil√≥logos que estudian idiomas inusuales, tales como klingon, que tiene su
  c√≥digo ISO-639 (<code>tlh</code>) o esperanto (<code>epo</code>). En el
  ejemplo se ha agregado una casilla donde ingresar un c√≥digo de localizaci√≥n y
  ver el resultado donde dice `locale actual¬¥. Si se muestra un resultado, el
  c√≥digo indicado existe, sino, queda en blanco. La funci√≥n
  <a
    title="Manual de PHP: funci√≥n setlocale()"
    href="http://www.php.net/manual/es/function.setlocale.php"
    target="phpmanual"
    ><code>setlocale()</code></a
  >
  llama a la funci√≥n equivalente del sistema operativo y retorna lo que esta le
  indica. Esto es importante pues es posible que la funci√≥n devuelva algo, pero
  distinto de lo indicado. Por ejemplo, el sistema operativo es libre de indicar
  que no tiene `en_UK¬¥ pero que si tiene `en¬¥. Eso hace que uno no tenga m√°s
  remedio que ponerse a explorar en el servidor para ver qu√© idiomas tiene y,
  seg√∫n eso, ver qu√© ofrecer y, por encima de todo, c√≥mo estructurar la
  aplicaci√≥n, pues lo que todav√≠a no hemos visto es d√≥nde ubicar el archivo de
  traducciones.
</p>
<p>
  Los argumentos de este tr√≠o de funciones son los que determinan la ubicaci√≥n
  de los archivos de traducci√≥n, concretamente en el caso del
  <a
    title="ejemplo"
    href="/int/gettext/index.php?language=es_ES"
    target="phpmanual"
    >ejemplo</a
  >:
</p>
<pre><code  class="language.php">
$locale = setlocale(LC_ALL, `en_US¬¥);
bindtextdomain(`ejemplo¬¥, `./locale¬¥);
textdomain(`ejemplo¬¥);
</code ></pre>
<p>el archivo de traducciones se encontrar√° en:</p>
<p><code>./locale/en_US/LC_MESSAGES/ejemplo.mo</code></p>
<p>
  Dejo como ejercicio para el lector dilucidar de d√≥nde sale cada segmento,
  aunque aclaro que <code>LC_MESSAGES</code> es fijo e inalterable como lo es la
  extensi√≥n <code>.mo</code> para el archivo. Esto hace evidente un problema,
  uno debe tener tantas carpetas con c√≥digos de localizaci√≥n como vaya a
  ofrecer, aunque el contenido de <code>es_AR</code> sea id√©ntico al de
  <code>es_UY</code>, como en el caso del ejemplo donde us√©
  <code>en_US</code> arbitrariamente en lugar de, por ejemplo,
  <code>en_</code>UK. La diferencia puede no ser importante en las traducciones,
  pero si en otros aspectos de la localizaci√≥n como el signo monetario $ √≥ ÔøΩ, o
  el orden de los elementos de la fecha.
</p>
<p>
  Todo esto hace que esta soluci√≥n no sea muy portable, y es de suponer que si
  uno est√° internacionalizando una aplicaci√≥n en muchos casos es porque pretende
  hacerla portable. La dependencia de todo el paquete de gettext() de la
  configuraci√≥n del servidor en que reside, hace que pueda ser un problema para
  quien debe instalar y mantener el paquete.
</p>
<p>
  Finalmente, un `bug¬¥ que seguramente se solucionar√°, eventualmente ‚Ä¶ La
  mayor√≠a de las aplicaciones `internacionales¬¥ se escriben en ingl√©s por lo que
  los textos originales est√°n en ese idioma. El
  <a
    title="ejemplo"
    href="/int/gettext/index.php?language=es_ES"
    target="phpmanual"
    >ejemplo</a
  >
  que acompa√±a este art√≠culo est√° en castellano. Noten que si seleccionan como
  idioma el ingl√©s, los textos donde el original contuviera acentos, e√±e o
  cualquier otra letra o s√≠mbolo que no sea ASCII nativo, gettext() no
  encontrar√° la traducci√≥n, cosa que s√≠ har√° con cualquier texto donde el
  original sea puro ASCII, aunque el texto traducido s√≠ contenga caracteres
  no-ASCII.
</p>
<p>
  Por todo esto, en conclusi√≥n, no recomiendo usar las funciones de
  <a
    title="Manual de PHP: biblioteca gettext"
    href="http://www.php.net/manual/es/ref.gettext.php"
    target="phpmanual"
    ><code>gettext()</code></a
  >
  de PHP aunque, como alternativa, existe un paquete de PHP escrito en PHP
  mismo, que es mucho m√°s simple de usar y m√°s f√°cil de mantener. De hecho, es
  el que usa la aplicaci√≥n WordPress con que funciona este mismo blog y que
  veremos en el siguiente art√≠culo.
</p>
<p>
  Viene de:
  <a
    title="Enlace permanente: Internacionalizaci√≥n y localizaci√≥n: usando arrays"
    href="2007/01/16/internacionalizacion-y-localizacion-usando-arrays.html"
    rel="bookmark"
    >Internacionalizaci√≥n y localizaci√≥n: usando arrays</a
  >
</p>
<p>
  Contin√∫a en:<a
    title="Enlace permanente: Internacionalizaci√≥n y localizaci√≥n: usando PHP-gettext"
    href="2007/01/16/internacionalizacion-y-localizacion-usando-php-gettext.html"
    rel="bookmark"
    >Internacionalizaci√≥n y localizaci√≥n: usando PHP-gettext</a
  >
</p>
<p>
  Indice:
  <a
    title="Enlace permanente: Internacionalizaci√≥n y Localizaci√≥n: √≠ndice"
    href="2007/01/17/internacionalizacion-y-localizacion-indice.html"
    rel="bookmark"
    >Internacionalizaci√≥n y Localizaci√≥n: √≠ndice</a
  >
</p>

          </div>
          <footer class="post-footer"><div class="next-prev-links">
  <a  class="prev-link" title="Anterior"
href="2007/01/16/internacionalizacion-y-localizacion-usando-php-gettext.html"
>
<div class="triangle-left"></div>
Internacionalizaci√≥n y localizaci√≥n: usando PHP-gettext
</a>

  <a class="next-link" title="Siguiente"
href="2007/01/16/internacionalizacion-y-localizacion-usando-arrays.html"
>Internacionalizaci√≥n y localizaci√≥n: usando arrays 
<div class="triangle-right"></div>
</a>

</div> </footer>
          <a class="u-url" href="/blog/2007/01/16/internacionalizacion-y-localizacion-usando-gettext.html" hidden></a>
        </article>
      </div>
    </main>
    <footer class="site-footer h-card">
      <data class="u-url" href="/blog"></data>

      <div class="wrapper">
        <h2 class="footer-heading">Comentarios</h2>

        <div class="footer-col-wrapper">
          <div class="footer-col footer-col-1">
            <ul class="contact-list">
              <li class="p-name">Comentarios</li>
              <li>
                <a class="u-email" href="mailto:satyam@satyam.com.ar"
                  >satyam@satyam.com.ar</a
                >
              </li>
            </ul>
          </div>

          <div class="footer-col footer-col-2">
            <ul class="social-media-list"></ul>
          </div>

          <div class="footer-col footer-col-3">
            <p>Comentarios, viajes, ideas e historias</p>
          </div>
        </div>
      </div>
    </footer>
    
  <script src="assets/js/highlight.min.js"></script>
  <script>
    hljs.highlightAll();
  </script>

  </body>
</html>
